{
  "author": "",
  "category": "User interface",
  "extensionNamespace": "",
  "fullName": "ToggleGridOverlay",
  "helpPath": "https://wiki.gdevelop.io/gdevelop5/objects/shape_painter/",
  "iconUrl": "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMy4wLjMsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iSWNvbnMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgMzIgMzIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMyIDMyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPg0KCS5zdDB7ZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoxMDt9DQo8L3N0eWxlPg0KPGc+DQoJPHJlY3QgeD0iMTIiIHk9IjIiIHdpZHRoPSI4IiBoZWlnaHQ9IjgiLz4NCgk8cmVjdCB4PSIxMiIgeT0iMTIiIHdpZHRoPSI4IiBoZWlnaHQ9IjgiLz4NCgk8cmVjdCB4PSIyIiB5PSIxMiIgd2lkdGg9IjgiIGhlaWdodD0iOCIvPg0KCTxyZWN0IHg9IjEyIiB5PSIyMiIgd2lkdGg9IjgiIGhlaWdodD0iOCIvPg0KCTxyZWN0IHg9IjIyIiB5PSIxMiIgd2lkdGg9IjgiIGhlaWdodD0iOCIvPg0KCTxwYXRoIGQ9Ik0yMiwyMnY4aDdjMC42LDAsMS0wLjQsMS0xdi03SDIyeiIvPg0KCTxwYXRoIGQ9Ik0xMCwyMkgydjdjMCwwLjYsMC40LDEsMSwxaDdWMjJ6Ii8+DQoJPHBhdGggZD0iTTEwLDEwVjJIM0MyLjQsMiwyLDIuNCwyLDN2N0gxMHoiLz4NCgk8cGF0aCBkPSJNMjIsMTBoOFYzYzAtMC42LTAuNC0xLTEtMWgtN1YxMHoiLz4NCjwvZz4NCjwvc3ZnPg0K",
  "name": "ToggleGridOverlay",
  "previewIconUrl": "https://asset-resources.gdevelop.io/public-resources/Icons/Glyphster Pack/Master/SVG/Graphic Design/6be4b464983c0b09b5d655b76d9ba1c2b5e1b3f51ad779bd68452dfd48c29e4b_Graphic Design_grid.svg",
  "shortDescription": "Use this action to toggle a grid overlay on the screen using a button.",
  "version": "0.0.0",
  "description": [
    "-Mainly intended to be used with the snap to grid extension, but can be used for anything that requires a grid.",
    "-You can change the size of the squares and the offset on the X and Y axis.",
    "-Change line color and Z-Order.",
    "-Use a button with this action to toggle the grid on or off.",
    "-Requires a shape painter object (extension automatically configures shape painter settings).",
    "-it is recommended to set the cell height and width to numbers that the screen width and height are divisible by. ",
    "-It is also recommended to use the \"no changes to game size\" option for the screen resolution."
  ],
  "tags": [
    "grid",
    "overlay",
    "button",
    "snap"
  ],
  "authorIds": [
    "GNHJuPjWxjeaoWL6uWjBwXmxT3I2"
  ],
  "dependencies": [],
  "eventsFunctions": [
    {
      "description": "Toggle a grid overlay on and off with a button (This action must be run every frame).",
      "fullName": "Toggle the grid overlay",
      "functionType": "Action",
      "name": "ToggleGrid",
      "sentence": "Toggle grid with _PARAM2_ button using _PARAM1_, Cell width: _PARAM3_, Cell height: _PARAM4_, Thickness: _PARAM5_; OffsetX: _PARAM6_, OffsetY: _PARAM7_; Line color: _PARAM8_; Z-Order: _PARAM9_",
      "events": [
        {
          "colorB": 228,
          "colorG": 176,
          "colorR": 74,
          "creationTime": 0,
          "name": "grid button",
          "source": "",
          "type": "BuiltinCommonInstructions::Group",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Comment",
              "color": {
                "b": 109,
                "g": 230,
                "r": 255,
                "textB": 0,
                "textG": 0,
                "textR": 0
              },
              "comment": "Handles the events for when the button to toggle a grid is clicked. Automatically configures shape painter settings to the proper parameters."
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "SourisSurObjet"
                  },
                  "parameters": [
                    "gridButton",
                    "ButtonFSM",
                    "",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "MouseButtonReleased"
                  },
                  "parameters": [
                    "",
                    "Left"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "PrimitiveDrawing::ClearBetweenFrames"
                  },
                  "parameters": [
                    "Drawer",
                    "no"
                  ]
                },
                {
                  "type": {
                    "value": "PrimitiveDrawing::UseRelativeCoordinates"
                  },
                  "parameters": [
                    "Drawer",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "PrimitiveDrawing::FillColor"
                  },
                  "parameters": [
                    "Drawer",
                    "GetArgumentAsString(\"lineColor\")"
                  ]
                },
                {
                  "type": {
                    "value": "PrimitiveDrawing::OutlineColor"
                  },
                  "parameters": [
                    "Drawer",
                    "GetArgumentAsString(\"lineColor\")"
                  ]
                },
                {
                  "type": {
                    "value": "ChangePlan"
                  },
                  "parameters": [
                    "Drawer",
                    "=",
                    "GetArgumentAsNumber(\"zOrder\")"
                  ]
                }
              ],
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Comment",
                  "color": {
                    "b": 109,
                    "g": 230,
                    "r": 255,
                    "textB": 0,
                    "textG": 0,
                    "textR": 0
                  },
                  "comment": "Draws the grid when the variable \"GridShow\" is 0. Creates a variable \"index\" that will be incremented for every line."
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "VarScene"
                      },
                      "parameters": [
                        "__ToggleGridOverlay.GridShow",
                        "=",
                        "0"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "ModVarScene"
                      },
                      "parameters": [
                        "__ToggleGridOverlay.Index",
                        "=",
                        "0"
                      ]
                    }
                  ],
                  "events": [
                    {
                      "type": "BuiltinCommonInstructions::Comment",
                      "color": {
                        "b": 109,
                        "g": 230,
                        "r": 255,
                        "textB": 0,
                        "textG": 0,
                        "textR": 0
                      },
                      "comment": "Draws vertical lines across the x-axis that are \"cellWidth\" pixels apart"
                    },
                    {
                      "type": "BuiltinCommonInstructions::Repeat",
                      "repeatExpression": "SceneWindowWidth() / GetArgumentAsNumber(\"cellWidth\")",
                      "conditions": [],
                      "actions": [
                        {
                          "type": {
                            "value": "PrimitiveDrawing::LineV2"
                          },
                          "parameters": [
                            "Drawer",
                            "GetArgumentAsNumber(\"cellWidth\") * Variable(__ToggleGridOverlay.Index) + GetArgumentAsNumber(\"offsetX\")",
                            "0",
                            "GetArgumentAsNumber(\"cellWidth\") * Variable(__ToggleGridOverlay.Index) + GetArgumentAsNumber(\"offsetX\")",
                            "SceneWindowHeight()",
                            "GetArgumentAsNumber(\"thickness\")"
                          ]
                        },
                        {
                          "type": {
                            "value": "ModVarScene"
                          },
                          "parameters": [
                            "__ToggleGridOverlay.Index",
                            "+",
                            "1"
                          ]
                        }
                      ]
                    },
                    {
                      "type": "BuiltinCommonInstructions::Comment",
                      "color": {
                        "b": 109,
                        "g": 230,
                        "r": 255,
                        "textB": 0,
                        "textG": 0,
                        "textR": 0
                      },
                      "comment": "Resets index to 0 so it can be used for the next drawing event."
                    },
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [],
                      "actions": [
                        {
                          "type": {
                            "value": "ModVarScene"
                          },
                          "parameters": [
                            "__ToggleGridOverlay.Index",
                            "=",
                            "0"
                          ]
                        }
                      ]
                    },
                    {
                      "type": "BuiltinCommonInstructions::Comment",
                      "color": {
                        "b": 109,
                        "g": 230,
                        "r": 255,
                        "textB": 0,
                        "textG": 0,
                        "textR": 0
                      },
                      "comment": "Draws horizontal lines across the y-axis that are \"cellHeight\" pixels apart"
                    },
                    {
                      "type": "BuiltinCommonInstructions::Repeat",
                      "repeatExpression": "SceneWindowHeight() / GetArgumentAsNumber(\"cellHeight\")",
                      "conditions": [],
                      "actions": [
                        {
                          "type": {
                            "value": "PrimitiveDrawing::LineV2"
                          },
                          "parameters": [
                            "Drawer",
                            "0",
                            "GetArgumentAsNumber(\"cellHeight\") * Variable(__ToggleGridOverlay.Index) + GetArgumentAsNumber(\"offsetY\")",
                            "SceneWindowWidth()",
                            "GetArgumentAsNumber(\"cellHeight\") * Variable(__ToggleGridOverlay.Index) + GetArgumentAsNumber(\"offsetY\")",
                            "GetArgumentAsNumber(\"thickness\")"
                          ]
                        },
                        {
                          "type": {
                            "value": "ModVarScene"
                          },
                          "parameters": [
                            "__ToggleGridOverlay.Index",
                            "+",
                            "1"
                          ]
                        }
                      ]
                    },
                    {
                      "type": "BuiltinCommonInstructions::Comment",
                      "color": {
                        "b": 109,
                        "g": 230,
                        "r": 255,
                        "textB": 0,
                        "textG": 0,
                        "textR": 0
                      },
                      "comment": "Sets the variable \"GridShow\" to 1 after the grid has been drawn. This primes the button so the next click will delete the grid."
                    },
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [
                        {
                          "type": {
                            "value": "BuiltinCommonInstructions::Once"
                          },
                          "parameters": []
                        }
                      ],
                      "actions": [
                        {
                          "type": {
                            "value": "Wait"
                          },
                          "parameters": [
                            "0.2"
                          ]
                        },
                        {
                          "type": {
                            "value": "ModVarScene"
                          },
                          "parameters": [
                            "__ToggleGridOverlay.GridShow",
                            "=",
                            "1"
                          ]
                        }
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Comment",
                  "color": {
                    "b": 109,
                    "g": 230,
                    "r": 255,
                    "textB": 0,
                    "textG": 0,
                    "textR": 0
                  },
                  "comment": "When the variable \"GridShow\" is 1 (the grid is on screen) and the toggle button has been clicked, this event clears the grid and resets the \"GridShow\" variable to 0. The next click of the button will draw the grid again."
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "VarScene"
                      },
                      "parameters": [
                        "__ToggleGridOverlay.GridShow",
                        "=",
                        "1"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "PrimitiveDrawing::Drawer::ClearShapes"
                      },
                      "parameters": [
                        "Drawer"
                      ]
                    },
                    {
                      "type": {
                        "value": "ModVarScene"
                      },
                      "parameters": [
                        "__ToggleGridOverlay.GridShow",
                        "=",
                        "0"
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "parameters": []
        }
      ],
      "parameters": [
        {
          "description": "The shape painer used to draw the grid",
          "name": "Drawer",
          "supplementaryInformation": "PrimitiveDrawing::Drawer",
          "type": "objectList"
        },
        {
          "description": "The button used to toggle the overlay on and off",
          "name": "gridButton",
          "supplementaryInformation": "Sprite",
          "type": "objectList"
        },
        {
          "description": "The width of the cells",
          "name": "cellWidth",
          "type": "expression"
        },
        {
          "description": "The height of the cells",
          "name": "cellHeight",
          "type": "expression"
        },
        {
          "description": "The thickness of the line",
          "name": "thickness",
          "type": "expression"
        },
        {
          "description": "The grid offset on the X-axis",
          "name": "offsetX",
          "type": "expression"
        },
        {
          "description": "The grid offset on the Y-axis",
          "name": "offsetY",
          "type": "expression"
        },
        {
          "description": "The color of the line",
          "name": "lineColor",
          "type": "color"
        },
        {
          "description": "The z-order of the grid",
          "name": "zOrder",
          "type": "expression"
        }
      ],
      "objectGroups": [
        {
          "name": "Group",
          "objects": []
        }
      ]
    },
    {
      "fullName": "",
      "functionType": "Action",
      "name": "onSceneLoaded",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Comment",
          "color": {
            "b": 109,
            "g": 230,
            "r": 255,
            "textB": 0,
            "textG": 0,
            "textR": 0
          },
          "comment": "Creates a scene variable \"GridShow\" and sets its value to 0 so the ToggleGrid action is primed for a button click."
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BuiltinCommonInstructions::Once"
              },
              "parameters": []
            }
          ],
          "actions": [
            {
              "type": {
                "value": "ModVarScene"
              },
              "parameters": [
                "__ToggleGridOverlay.GridShow",
                "=",
                "0"
              ]
            }
          ]
        }
      ],
      "parameters": [],
      "objectGroups": []
    }
  ],
  "eventsBasedBehaviors": [],
  "eventsBasedObjects": []
}